<?php
session_start();
require_once '../config.php';

// ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏£‡∏¥‡∏á‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö accounting_form.php
$departments_list = array(
    array('DeptID' => 'JD001', 'DeptName' => '‡πÅ‡∏ú‡∏ô‡∏Å‡∏ö‡∏±‡∏ç‡∏ä‡∏µ'),
    array('DeptID' => 'JD002', 'DeptName' => '‡πÅ‡∏ú‡∏ô‡∏Å‡∏ú‡∏•‡∏¥‡∏ï'),
    array('DeptID' => 'JD003', 'DeptName' => '‡πÅ‡∏ú‡∏ô‡∏Å‡∏Å‡∏≤‡∏£‡πÄ‡∏á‡∏¥‡∏ô'),
    array('DeptID' => 'JD004', 'DeptName' => '‡πÅ‡∏ú‡∏ô‡∏Å‡∏à‡∏±‡∏î‡∏ã‡∏∑‡πâ‡∏≠'),
    array('DeptID' => 'JD005', 'DeptName' => '‡πÅ‡∏ú‡∏ô‡∏Å‡∏õ‡∏£‡∏∞‡∏ä‡∏≤‡∏™‡∏±‡∏°‡∏û‡∏±‡∏ô‡∏ò‡πå'),
    array('DeptID' => 'JD006', 'DeptName' => '‡πÅ‡∏ú‡∏ô‡∏Å‡∏Ç‡∏≤‡∏¢'),
    array('DeptID' => 'JD007', 'DeptName' => '‡πÅ‡∏ú‡∏ô‡∏Å‡∏Å‡∏≤‡∏£‡∏ï‡∏•‡∏≤‡∏î'),
    array('DeptID' => 'JD008', 'DeptName' => '‡πÅ‡∏ú‡∏ô‡∏Å‡∏ó‡∏£‡∏±‡∏û‡∏¢‡∏≤‡∏Å‡∏£‡∏ö‡∏∏‡∏Ñ‡∏Ñ‡∏•'),
    array('DeptID' => 'JD009', 'DeptName' => '‡πÅ‡∏ú‡∏ô‡∏Å‡πÑ‡∏≠‡∏ó‡∏µ'),
    array('DeptID' => 'JD010', 'DeptName' => '‡πÅ‡∏ú‡∏ô‡∏Å‡∏Å‡∏é‡∏´‡∏°‡∏≤‡∏¢')
);

$approval_structures = array(
    array(
        'ApprovalID' => 'JA001',
        'ApprovalName' => '‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡πÅ‡∏ú‡∏ô‡∏Å‡∏ö‡∏±‡∏ç‡∏ä‡∏µ - ‡∏õ‡∏Å‡∏ï‡∏¥',
        'level1_id' => 'EMP001',
        'level1_first' => '‡∏™‡∏°‡πÉ‡∏à',
        'level1_last' => '‡∏ö‡∏±‡∏ç‡∏ä‡∏µ‡∏î‡∏µ',
        'level1_position' => '‡∏´‡∏±‡∏ß‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏ú‡∏ô‡∏Å‡∏ö‡∏±‡∏ç‡∏ä‡∏µ',
        'level2_id' => 'EMP101',
        'level2_first' => '‡∏û‡∏¥‡∏ä‡∏±‡∏¢',
        'level2_last' => '‡πÄ‡∏á‡∏¥‡∏ô‡∏ó‡∏≠‡∏á',
        'level2_position' => '‡∏ú‡∏π‡πâ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏ù‡πà‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÄ‡∏á‡∏¥‡∏ô',
        'level3_id' => 'EMP201',
        'level3_first' => '‡∏ß‡∏£‡∏£‡∏ì‡∏≤',
        'level3_last' => '‡∏ú‡∏π‡πâ‡∏ö‡∏£‡∏¥‡∏´‡∏≤‡∏£',
        'level3_position' => '‡∏ú‡∏π‡πâ‡∏≠‡∏≥‡∏ô‡∏ß‡∏¢‡∏Å‡∏≤‡∏£'
    ),
    array(
        'ApprovalID' => 'JA002',
        'ApprovalName' => '‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡πÅ‡∏ú‡∏ô‡∏Å‡∏ö‡∏±‡∏ç‡∏ä‡∏µ - ‡πÄ‡∏£‡πà‡∏á‡∏î‡πà‡∏ß‡∏ô',
        'level1_id' => 'EMP101',
        'level1_first' => '‡∏û‡∏¥‡∏ä‡∏±‡∏¢',
        'level1_last' => '‡πÄ‡∏á‡∏¥‡∏ô‡∏ó‡∏≠‡∏á',
        'level1_position' => '‡∏ú‡∏π‡πâ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏ù‡πà‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÄ‡∏á‡∏¥‡∏ô',
        'level2_id' => 'EMP201',
        'level2_first' => '‡∏ß‡∏£‡∏£‡∏ì‡∏≤',
        'level2_last' => '‡∏ú‡∏π‡πâ‡∏ö‡∏£‡∏¥‡∏´‡∏≤‡∏£',
        'level2_position' => '‡∏ú‡∏π‡πâ‡∏≠‡∏≥‡∏ô‡∏ß‡∏¢‡∏Å‡∏≤‡∏£',
        'level3_id' => null,
        'level3_first' => null,
        'level3_last' => null,
        'level3_position' => null
    ),
    array(
        'ApprovalID' => 'JA003',
        'ApprovalName' => '‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡πÅ‡∏ú‡∏ô‡∏Å‡∏Å‡∏≤‡∏£‡πÄ‡∏á‡∏¥‡∏ô - ‡∏õ‡∏Å‡∏ï‡∏¥',
        'level1_id' => 'EMP003',
        'level1_first' => '‡∏™‡∏°‡∏®‡∏±‡∏Å‡∏î‡∏¥‡πå',
        'level1_last' => '‡∏Å‡∏≤‡∏£‡πÄ‡∏á‡∏¥‡∏ô‡∏î‡∏µ',
        'level1_position' => '‡∏´‡∏±‡∏ß‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏ú‡∏ô‡∏Å‡∏Å‡∏≤‡∏£‡πÄ‡∏á‡∏¥‡∏ô',
        'level2_id' => 'EMP101',
        'level2_first' => '‡∏û‡∏¥‡∏ä‡∏±‡∏¢',
        'level2_last' => '‡πÄ‡∏á‡∏¥‡∏ô‡∏ó‡∏≠‡∏á',
        'level2_position' => '‡∏ú‡∏π‡πâ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏ù‡πà‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÄ‡∏á‡∏¥‡∏ô',
        'level3_id' => 'EMP201',
        'level3_first' => '‡∏ß‡∏£‡∏£‡∏ì‡∏≤',
        'level3_last' => '‡∏ú‡∏π‡πâ‡∏ö‡∏£‡∏¥‡∏´‡∏≤‡∏£',
        'level3_position' => '‡∏ú‡∏π‡πâ‡∏≠‡∏≥‡∏ô‡∏ß‡∏¢‡∏Å‡∏≤‡∏£'
    ),
    array(
        'ApprovalID' => 'JA004',
        'ApprovalName' => '‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡πÅ‡∏ú‡∏ô‡∏Å‡∏Å‡∏≤‡∏£‡πÄ‡∏á‡∏¥‡∏ô - ‡πÄ‡∏£‡πà‡∏á‡∏î‡πà‡∏ß‡∏ô',
        'level1_id' => 'EMP101',
        'level1_first' => '‡∏û‡∏¥‡∏ä‡∏±‡∏¢',
        'level1_last' => '‡πÄ‡∏á‡∏¥‡∏ô‡∏ó‡∏≠‡∏á',
        'level1_position' => '‡∏ú‡∏π‡πâ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏ù‡πà‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÄ‡∏á‡∏¥‡∏ô',
        'level2_id' => 'EMP201',
        'level2_first' => '‡∏ß‡∏£‡∏£‡∏ì‡∏≤',
        'level2_last' => '‡∏ú‡∏π‡πâ‡∏ö‡∏£‡∏¥‡∏´‡∏≤‡∏£',
        'level2_position' => '‡∏ú‡∏π‡πâ‡∏≠‡∏≥‡∏ô‡∏ß‡∏¢‡∏Å‡∏≤‡∏£',
        'level3_id' => null,
        'level3_first' => null,
        'level3_last' => null,
        'level3_position' => null
    ),
    array(
        'ApprovalID' => 'JA005',
        'ApprovalName' => '‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡πÅ‡∏ú‡∏ô‡∏Å‡∏Ç‡∏≤‡∏¢',
        'level1_id' => 'EMP006',
        'level1_first' => '‡∏≠‡∏ô‡∏∏‡∏ä‡∏≤',
        'level1_last' => '‡∏Ç‡∏≤‡∏¢‡∏î‡∏µ',
        'level1_position' => '‡∏´‡∏±‡∏ß‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏ú‡∏ô‡∏Å‡∏Ç‡∏≤‡∏¢',
        'level2_id' => 'EMP106',
        'level2_first' => '‡∏™‡∏∏‡∏°‡∏≤‡∏•‡∏µ',
        'level2_last' => '‡∏Å‡∏≤‡∏£‡∏Ç‡∏≤‡∏¢',
        'level2_position' => '‡∏ú‡∏π‡πâ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏ù‡πà‡∏≤‡∏¢‡∏Ç‡∏≤‡∏¢',
        'level3_id' => 'EMP201',
        'level3_first' => '‡∏ß‡∏£‡∏£‡∏ì‡∏≤',
        'level3_last' => '‡∏ú‡∏π‡πâ‡∏ö‡∏£‡∏¥‡∏´‡∏≤‡∏£',
        'level3_position' => '‡∏ú‡∏π‡πâ‡∏≠‡∏≥‡∏ô‡∏ß‡∏¢‡∏Å‡∏≤‡∏£'
    ),
    array(
        'ApprovalID' => 'JA006',
        'ApprovalName' => '‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡πÅ‡∏ú‡∏ô‡∏Å‡∏Å‡∏≤‡∏£‡∏ï‡∏•‡∏≤‡∏î',
        'level1_id' => 'EMP007',
        'level1_first' => '‡∏Å‡∏¥‡∏ï‡∏ï‡∏¥',
        'level1_last' => '‡∏Å‡∏≤‡∏£‡∏ï‡∏•‡∏≤‡∏î‡∏î‡∏µ',
        'level1_position' => '‡∏´‡∏±‡∏ß‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏ú‡∏ô‡∏Å‡∏Å‡∏≤‡∏£‡∏ï‡∏•‡∏≤‡∏î',
        'level2_id' => 'EMP106',
        'level2_first' => '‡∏™‡∏∏‡∏°‡∏≤‡∏•‡∏µ',
        'level2_last' => '‡∏Å‡∏≤‡∏£‡∏Ç‡∏≤‡∏¢',
        'level2_position' => '‡∏ú‡∏π‡πâ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏ù‡πà‡∏≤‡∏¢‡∏Ç‡∏≤‡∏¢',
        'level3_id' => null,
        'level3_first' => null,
        'level3_last' => null,
        'level3_position' => null
    ),
    array(
        'ApprovalID' => 'JA007',
        'ApprovalName' => '‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡πÅ‡∏ú‡∏ô‡∏Å‡∏ú‡∏•‡∏¥‡∏ï',
        'level1_id' => 'EMP002',
        'level1_first' => '‡∏™‡∏°‡∏ä‡∏≤‡∏¢',
        'level1_last' => '‡∏ú‡∏•‡∏¥‡∏ï‡∏î‡∏µ',
        'level1_position' => '‡∏´‡∏±‡∏ß‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏ú‡∏ô‡∏Å‡∏ú‡∏•‡∏¥‡∏ï',
        'level2_id' => 'EMP102',
        'level2_first' => '‡∏≠‡∏£‡∏∏‡∏ì',
        'level2_last' => '‡∏Å‡∏≤‡∏£‡∏ú‡∏•‡∏¥‡∏ï',
        'level2_position' => '‡∏ú‡∏π‡πâ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏ù‡πà‡∏≤‡∏¢‡∏ú‡∏•‡∏¥‡∏ï',
        'level3_id' => 'EMP201',
        'level3_first' => '‡∏ß‡∏£‡∏£‡∏ì‡∏≤',
        'level3_last' => '‡∏ú‡∏π‡πâ‡∏ö‡∏£‡∏¥‡∏´‡∏≤‡∏£',
        'level3_position' => '‡∏ú‡∏π‡πâ‡∏≠‡∏≥‡∏ô‡∏ß‡∏¢‡∏Å‡∏≤‡∏£'
    ),
    array(
        'ApprovalID' => 'JA008',
        'ApprovalName' => '‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡πÅ‡∏ú‡∏ô‡∏Å‡∏à‡∏±‡∏î‡∏ã‡∏∑‡πâ‡∏≠',
        'level1_id' => 'EMP004',
        'level1_first' => '‡∏£‡∏±‡∏ä‡∏ô‡∏µ',
        'level1_last' => '‡∏à‡∏±‡∏î‡∏ã‡∏∑‡πâ‡∏≠‡∏î‡∏µ',
        'level1_position' => '‡∏´‡∏±‡∏ß‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏ú‡∏ô‡∏Å‡∏à‡∏±‡∏î‡∏ã‡∏∑‡πâ‡∏≠',
        'level2_id' => 'EMP102',
        'level2_first' => '‡∏≠‡∏£‡∏∏‡∏ì',
        'level2_last' => '‡∏Å‡∏≤‡∏£‡∏ú‡∏•‡∏¥‡∏ï',
        'level2_position' => '‡∏ú‡∏π‡πâ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏ù‡πà‡∏≤‡∏¢‡∏ú‡∏•‡∏¥‡∏ï',
        'level3_id' => null,
        'level3_first' => null,
        'level3_last' => null,
        'level3_position' => null
    ),
    array(
        'ApprovalID' => 'JA009',
        'ApprovalName' => '‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡πÅ‡∏ú‡∏ô‡∏Å PR',
        'level1_id' => 'EMP005',
        'level1_first' => '‡∏ä‡∏±‡∏¢‡∏¢‡∏≤',
        'level1_last' => '‡∏õ‡∏£‡∏∞‡∏ä‡∏≤‡∏™‡∏±‡∏°‡∏û‡∏±‡∏ô‡∏ò‡πå',
        'level1_position' => '‡∏´‡∏±‡∏ß‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏ú‡∏ô‡∏Å PR',
        'level2_id' => 'EMP106',
        'level2_first' => '‡∏™‡∏∏‡∏°‡∏≤‡∏•‡∏µ',
        'level2_last' => '‡∏Å‡∏≤‡∏£‡∏Ç‡∏≤‡∏¢',
        'level2_position' => '‡∏ú‡∏π‡πâ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏ù‡πà‡∏≤‡∏¢‡∏Ç‡∏≤‡∏¢',
        'level3_id' => null,
        'level3_first' => null,
        'level3_last' => null,
        'level3_position' => null
    ),
    array(
        'ApprovalID' => 'JA010',
        'ApprovalName' => '‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡πÅ‡∏ú‡∏ô‡∏Å‡∏ó‡∏£‡∏±‡∏û‡∏¢‡∏≤‡∏Å‡∏£‡∏ö‡∏∏‡∏Ñ‡∏Ñ‡∏•',
        'level1_id' => 'EMP008',
        'level1_first' => '‡∏°‡∏ô‡∏±‡∏™‡∏ß‡∏µ',
        'level1_last' => '‡∏ó‡∏£‡∏±‡∏û‡∏¢‡∏≤‡∏Å‡∏£‡∏ö‡∏∏‡∏Ñ‡∏Ñ‡∏•',
        'level1_position' => '‡∏´‡∏±‡∏ß‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏ú‡∏ô‡∏Å HR',
        'level2_id' => 'EMP201',
        'level2_first' => '‡∏ß‡∏£‡∏£‡∏ì‡∏≤',
        'level2_last' => '‡∏ú‡∏π‡πâ‡∏ö‡∏£‡∏¥‡∏´‡∏≤‡∏£',
        'level2_position' => '‡∏ú‡∏π‡πâ‡∏≠‡∏≥‡∏ô‡∏ß‡∏¢‡∏Å‡∏≤‡∏£',
        'level3_id' => null,
        'level3_first' => null,
        'level3_last' => null,
        'level3_position' => null
    ),
    array(
        'ApprovalID' => 'JA011',
        'ApprovalName' => '‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡πÅ‡∏ú‡∏ô‡∏Å‡πÑ‡∏≠‡∏ó‡∏µ',
        'level1_id' => 'EMP009',
        'level1_first' => '‡∏ò‡∏ô‡∏≤‡∏Å‡∏£',
        'level1_last' => '‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ',
        'level1_position' => '‡∏´‡∏±‡∏ß‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏ú‡∏ô‡∏Å‡πÑ‡∏≠‡∏ó‡∏µ',
        'level2_id' => 'EMP201',
        'level2_first' => '‡∏ß‡∏£‡∏£‡∏ì‡∏≤',
        'level2_last' => '‡∏ú‡∏π‡πâ‡∏ö‡∏£‡∏¥‡∏´‡∏≤‡∏£',
        'level2_position' => '‡∏ú‡∏π‡πâ‡∏≠‡∏≥‡∏ô‡∏ß‡∏¢‡∏Å‡∏≤‡∏£',
        'level3_id' => null,
        'level3_first' => null,
        'level3_last' => null,
        'level3_position' => null
    ),
    array(
        'ApprovalID' => 'JA012',
        'ApprovalName' => '‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡πÅ‡∏ú‡∏ô‡∏Å‡∏Å‡∏é‡∏´‡∏°‡∏≤‡∏¢',
        'level1_id' => 'EMP010',
        'level1_first' => '‡∏™‡∏°‡∏û‡∏£',
        'level1_last' => '‡∏Å‡∏é‡∏´‡∏°‡∏≤‡∏¢',
        'level1_position' => '‡∏´‡∏±‡∏ß‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏ú‡∏ô‡∏Å‡∏Å‡∏é‡∏´‡∏°‡∏≤‡∏¢',
        'level2_id' => 'EMP201',
        'level2_first' => '‡∏ß‡∏£‡∏£‡∏ì‡∏≤',
        'level2_last' => '‡∏ú‡∏π‡πâ‡∏ö‡∏£‡∏¥‡∏´‡∏≤‡∏£',
        'level2_position' => '‡∏ú‡∏π‡πâ‡∏≠‡∏≥‡∏ô‡∏ß‡∏¢‡∏Å‡∏≤‡∏£',
        'level3_id' => null,
        'level3_first' => null,
        'level3_last' => null,
        'level3_position' => null
    )
);

// Department-Approval Mapping ‡∏ï‡∏≤‡∏°‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏£‡∏¥‡∏á (‡πÉ‡∏ä‡πâ employees.approver_id = approvals.ApprovalID)
$department_approval_mapping = array(
    'JD001' => array('JA001', 'JA002'),      // ‡πÅ‡∏ú‡∏ô‡∏Å‡∏ö‡∏±‡∏ç‡∏ä‡∏µ - ‡∏°‡∏µ 2 ‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á (‡∏õ‡∏Å‡∏ï‡∏¥ + ‡πÄ‡∏£‡πà‡∏á‡∏î‡πà‡∏ß‡∏ô)
    'JD003' => array('JA003', 'JA004'),      // ‡πÅ‡∏ú‡∏ô‡∏Å‡∏Å‡∏≤‡∏£‡πÄ‡∏á‡∏¥‡∏ô - ‡∏°‡∏µ 2 ‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á (‡∏õ‡∏Å‡∏ï‡∏¥ + ‡πÄ‡∏£‡πà‡∏á‡∏î‡πà‡∏ß‡∏ô)
    'JD006' => array('JA005'),               // ‡πÅ‡∏ú‡∏ô‡∏Å‡∏Ç‡∏≤‡∏¢ - ‡∏°‡∏µ 1 ‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á
    'JD007' => array('JA006'),               // ‡πÅ‡∏ú‡∏ô‡∏Å‡∏Å‡∏≤‡∏£‡∏ï‡∏•‡∏≤‡∏î - ‡∏°‡∏µ 1 ‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á
    'JD002' => array('JA007'),               // ‡πÅ‡∏ú‡∏ô‡∏Å‡∏ú‡∏•‡∏¥‡∏ï - ‡∏°‡∏µ 1 ‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á
    'JD004' => array('JA008'),               // ‡πÅ‡∏ú‡∏ô‡∏Å‡∏à‡∏±‡∏î‡∏ã‡∏∑‡πâ‡∏≠ - ‡∏°‡∏µ 1 ‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á
    'JD005' => array('JA009'),               // ‡πÅ‡∏ú‡∏ô‡∏Å PR - ‡∏°‡∏µ 1 ‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á
    'JD008' => array('JA010'),               // ‡πÅ‡∏ú‡∏ô‡∏Å HR - ‡∏°‡∏µ 1 ‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á
    'JD009' => array('JA011'),               // ‡πÅ‡∏ú‡∏ô‡∏Å‡πÑ‡∏≠‡∏ó‡∏µ - ‡∏°‡∏µ 1 ‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á
    'JD010' => array('JA012')                // ‡πÅ‡∏ú‡∏ô‡∏Å‡∏Å‡∏é‡∏´‡∏°‡∏≤‡∏¢ - ‡∏°‡∏µ 1 ‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á
);

$expense_types = array(
    'training' => '‡∏Ñ‡πà‡∏≤‡∏≠‡∏ö‡∏£‡∏°/‡∏™‡∏±‡∏°‡∏°‡∏ô‡∏≤',
    'travel' => '‡∏Ñ‡πà‡∏≤‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á',
    'office_supplies' => '‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡πÅ‡∏•‡∏∞‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå‡∏™‡∏≥‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô',
    'meals' => '‡∏Ñ‡πà‡∏≤‡∏≠‡∏≤‡∏´‡∏≤‡∏£',
    'accommodation' => '‡∏Ñ‡πà‡∏≤‡∏ó‡∏µ‡πà‡∏û‡∏±‡∏Å',
    'fuel' => '‡∏Ñ‡πà‡∏≤‡∏ô‡πâ‡∏≥‡∏°‡∏±‡∏ô‡πÄ‡∏ä‡∏∑‡πâ‡∏≠‡πÄ‡∏û‡∏•‡∏¥‡∏á',
    'communication' => '‡∏Ñ‡πà‡∏≤‡πÇ‡∏ó‡∏£‡∏®‡∏±‡∏û‡∏ó‡πå/‡∏≠‡∏¥‡∏ô‡πÄ‡∏ó‡∏≠‡∏£‡πå‡πÄ‡∏ô‡πá‡∏ï',
    'maintenance' => '‡∏Ñ‡πà‡∏≤‡∏ã‡πà‡∏≠‡∏°‡πÅ‡∏ã‡∏°',
    'others' => '‡∏≠‡∏∑‡πà‡∏ô‡πÜ'
);

// Mock session data ‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏°‡∏µ
if (!isset($_SESSION['employee_id'])) {
    $_SESSION['employee_id'] = 'EMP001';
    $_SESSION['first_name_th'] = '‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ';
    $_SESSION['last_name_th'] = '‡∏ó‡∏î‡∏™‡∏≠‡∏ö';
    $_SESSION['division'] = 'JD001';
}

echo "‚úÖ ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏£‡∏¥‡∏á‡∏ñ‡∏π‡∏Å‡πÇ‡∏´‡∏•‡∏î‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß<br><br>";
echo "üìä ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•:<br>";
echo "- ‡πÅ‡∏ú‡∏ô‡∏Å: " . count($departments_list) . " ‡πÅ‡∏ú‡∏ô‡∏Å<br>";
echo "- ‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥: " . count($approval_structures) . " ‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á<br>";
echo "- ‡∏Å‡∏≤‡∏£ mapping: " . count($department_approval_mapping) . " ‡πÅ‡∏ú‡∏ô‡∏Å<br><br>";

echo "üìã ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• mapping:<br>";
foreach ($department_approval_mapping as $deptId => $approvals) {
    $deptName = '';
    foreach ($departments_list as $dept) {
        if ($dept['DeptID'] === $deptId) {
            $deptName = $dept['DeptName'];
            break;
        }
    }
    echo "- $deptId ($deptName): [" . implode(', ', $approvals) . "]<br>";
}

// ‡πÄ‡∏ã‡∏ü‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏•‡∏á‡πÑ‡∏ü‡∏•‡πå‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏ä‡πâ‡πÉ‡∏ô‡πÑ‡∏ü‡∏•‡πå‡∏´‡∏•‡∏±‡∏Å
file_put_contents('real_data.json', json_encode(array(
    'departments_list' => $departments_list,
    'approval_structures' => $approval_structures,
    'department_approval_mapping' => $department_approval_mapping,
    'expense_types' => $expense_types
), JSON_PRETTY_PRINT | JSON_UNESCAPED_UNICODE));

echo "<br>üíæ ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ñ‡∏π‡∏Å‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÉ‡∏ô‡πÑ‡∏ü‡∏•‡πå real_data.json ‡πÅ‡∏•‡πâ‡∏ß<br>";
echo "<a href='accounting_form_real.php' class='btn btn-primary'>üöÄ ‡πÉ‡∏ä‡πâ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏£‡∏¥‡∏á‡πÉ‡∏ô‡∏ü‡∏≠‡∏£‡πå‡∏°</a>";
?>
